"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _classPrivateMethodInitSpec(a,b){_checkPrivateRedeclaration(a,b),b.add(a)}function _classPrivateFieldInitSpec(a,b,c){_checkPrivateRedeclaration(a,b),b.set(a,c)}function _checkPrivateRedeclaration(a,b){if(b.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateMethodGet(a,b,c){if(!b.has(a))throw new TypeError("attempted to get private field on non-instance");return c}function _classPrivateFieldGet(a,b){var c=_classExtractFieldDescriptor(a,b,"get");return _classApplyDescriptorGet(a,c)}function _classApplyDescriptorGet(a,b){return b.get?b.get.call(a):b.value}function _classPrivateFieldSet(a,b,c){var d=_classExtractFieldDescriptor(a,b,"set");return _classApplyDescriptorSet(a,d,c),c}function _classExtractFieldDescriptor(a,b,c){if(!b.has(a))throw new TypeError("attempted to "+c+" private field on non-instance");return b.get(a)}function _classApplyDescriptorSet(a,b,c){if(b.set)b.set.call(a,c);else{if(!b.writable)throw new TypeError("attempted to set read only private field");b.value=c}}var _element=new WeakMap,_maxInput=new WeakMap,_maxOutput=new WeakMap,_minInput=new WeakMap,_minOutput=new WeakMap,_progress=new WeakMap,_settings=new WeakMap,_getHTMLElement=new WeakSet,_init=new WeakSet,RangeSlider=function(){function a(b,c){_classCallCheck(this,a),_classPrivateMethodInitSpec(this,_init),_classPrivateMethodInitSpec(this,_getHTMLElement),_classPrivateFieldInitSpec(this,_element,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_maxInput,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_maxOutput,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_minInput,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_minOutput,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_progress,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_settings,{writable:!0,value:void 0}),_classPrivateFieldSet(this,_element,b),_classPrivateFieldSet(this,_settings,Object.assign({min:_classPrivateFieldGet(this,_element).dataset.min||0,max:_classPrivateFieldGet(this,_element).dataset.max||100,minInputName:"min",maxInputName:"max",minInputValue:_classPrivateFieldGet(this,_element).dataset.vmin,maxInputValue:_classPrivateFieldGet(this,_element).dataset.vmax,step:_classPrivateFieldGet(this,_element).dataset.step||1,outputFormatter:function(a){return a},outputPrefix:"",outputSuffix:"&nbsp;&euro;",progress:!0,output:!0},c));var d=_classPrivateMethodGet(this,_getHTMLElement,_getHTMLElement2).call(this,"div");if(d.className="slider",_classPrivateFieldGet(this,_settings).progress&&(_classPrivateFieldSet(this,_progress,_classPrivateMethodGet(this,_getHTMLElement,_getHTMLElement2).call(this,"div")),_classPrivateFieldGet(this,_progress).className="progress",d.appendChild(_classPrivateFieldGet(this,_progress))),_classPrivateFieldSet(this,_minInput,_classPrivateMethodGet(this,_getHTMLElement,_getHTMLElement2).call(this,"input",{type:"range",min:_classPrivateFieldGet(this,_settings).min,max:_classPrivateFieldGet(this,_settings).max,name:_classPrivateFieldGet(this,_settings).minInputName,value:_classPrivateFieldGet(this,_settings).minInputValue,step:_classPrivateFieldGet(this,_settings).step})),d.appendChild(_classPrivateFieldGet(this,_minInput)),_classPrivateFieldSet(this,_maxInput,_classPrivateMethodGet(this,_getHTMLElement,_getHTMLElement2).call(this,"input",{type:"range",min:_classPrivateFieldGet(this,_settings).min,max:_classPrivateFieldGet(this,_settings).max,name:_classPrivateFieldGet(this,_settings).maxInputName,value:_classPrivateFieldGet(this,_settings).maxInputValue,step:_classPrivateFieldGet(this,_settings).step})),d.appendChild(_classPrivateFieldGet(this,_maxInput)),_classPrivateFieldGet(this,_element).appendChild(d),_classPrivateFieldGet(this,_settings).output){var e=_classPrivateMethodGet(this,_getHTMLElement,_getHTMLElement2).call(this,"div");e.className="output",_classPrivateFieldSet(this,_minOutput,_classPrivateMethodGet(this,_getHTMLElement,_getHTMLElement2).call(this,"span")),e.appendChild(_classPrivateFieldGet(this,_minOutput)),_classPrivateFieldSet(this,_maxOutput,_classPrivateMethodGet(this,_getHTMLElement,_getHTMLElement2).call(this,"span")),e.appendChild(_classPrivateFieldGet(this,_maxOutput)),_classPrivateFieldGet(this,_element).appendChild(e)}this.min=_classPrivateFieldGet(this,_settings).minInputValue,this.max=_classPrivateFieldGet(this,_settings).maxInputValue,_classPrivateMethodGet(this,_init,_init2).call(this)}return _createClass(a,[{key:"min",get:function(){return 1*_classPrivateFieldGet(this,_minInput).value},set:function(a){_classPrivateFieldGet(this,_minInput).value=a<=this.max?a:this.max,_classPrivateFieldGet(this,_settings).output&&(_classPrivateFieldGet(this,_minOutput).innerHTML="".concat(_classPrivateFieldGet(this,_settings).outputPrefix).concat(_classPrivateFieldGet(this,_settings).outputFormatter(this.min)).concat(_classPrivateFieldGet(this,_settings).outputSuffix));var b=(this.min-_classPrivateFieldGet(this,_settings).min)/(_classPrivateFieldGet(this,_settings).max-_classPrivateFieldGet(this,_settings).min),c=_classPrivateFieldGet(this,_element).querySelector(".slider").clientHeight;_classPrivateFieldGet(this,_settings).progress&&(_classPrivateFieldGet(this,_progress).style.left="calc( ".concat(100*b,"% - ").concat(b," * ").concat(c,"px )"))}},{key:"max",get:function(){return 1*_classPrivateFieldGet(this,_maxInput).value},set:function(a){_classPrivateFieldGet(this,_maxInput).value=a>=this.min?a:this.min,_classPrivateFieldGet(this,_settings).output&&(_classPrivateFieldGet(this,_maxOutput).innerHTML="".concat(_classPrivateFieldGet(this,_settings).outputPrefix).concat(_classPrivateFieldGet(this,_settings).outputFormatter(this.max)).concat(_classPrivateFieldGet(this,_settings).outputSuffix));var b=1-(this.max-_classPrivateFieldGet(this,_settings).min)/(_classPrivateFieldGet(this,_settings).max-_classPrivateFieldGet(this,_settings).min),c=_classPrivateFieldGet(this,_element).querySelector(".slider").clientHeight;_classPrivateFieldGet(this,_settings).progress&&(_classPrivateFieldGet(this,_progress).style.right="calc( ".concat(100*b,"% - ").concat(b," * ").concat(c,"px )"))}}]),a}();function _getHTMLElement2(a,b){var c=document.createElement(a);for(var d in b)c.setAttribute(d,b[d]);return c}function _init2(){var a=this;_classPrivateFieldGet(this,_element).addEventListener("input",function(b){b.target===_classPrivateFieldGet(a,_minInput)&&(a.min=b.target.value),b.target===_classPrivateFieldGet(a,_maxInput)&&(a.max=b.target.value)})}module.exports=RangeSlider;